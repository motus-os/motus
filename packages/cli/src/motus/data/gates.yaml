version: "1.0"

gates:
  - id: "GATE-PKG-001"
    description: "Detect conflicting local motus installs"
    script: "scripts/gates/gate-pkg-001.sh"
    phase: "environment"
    required: true
    release_only: false

  - id: "GATE-REPO-001"
    description: "Verify canonical repo context"
    script: "scripts/gates/gate-repo-001.sh"
    phase: "environment"
    required: true
    release_only: false

  - id: "GATE-DB-001"
    description: "Schema version check"
    script: "scripts/gates/gate-db-001.sh"
    phase: "environment"
    required: true
    release_only: false

  - id: "GATE-ROADMAP-001"
    description: "Roadmap hygiene checks"
    script: "scripts/gates/gate-roadmap-001.sh"
    phase: "environment"
    required: true
    release_only: false

  - id: "GATE-CLI-001"
    description: "CLI smoke test"
    script: "scripts/gates/gate-cli-001.sh"
    phase: "functionality"
    required: true
    release_only: false

  - id: "GATE-WEB-001"
    description: "Web UI sanity checks"
    script: "scripts/gates/gate-web-001.sh"
    phase: "functionality"
    required: true
    release_only: false

  - id: "GATE-COV-001"
    description: "Coverage baseline check"
    script: "scripts/gates/gate-cov-001.sh"
    phase: "functionality"
    required: true
    release_only: false

  - id: "GATE-PERF-001"
    description: "Performance budget check"
    script: "scripts/gates/gate-perf-001.sh"
    phase: "functionality"
    required: true
    release_only: false

  - id: "GATE-SEC-002"
    description: "Bandit security scan"
    script: "scripts/gates/gate-sec-002.sh"
    phase: "security"
    required: true
    release_only: false

  - id: "GATE-DEP-002"
    description: "Dependency audit"
    script: "scripts/gates/gate-dep-002.sh"
    phase: "security"
    required: true
    release_only: false

  - id: "GATE-SRC-001"
    description: "Source leak scan"
    script: "scripts/gates/gate-src-001.sh"
    phase: "security"
    required: true
    release_only: false

  - id: "GATE-MIG-001"
    description: "Migration safety check"
    script: "scripts/gates/gate-migrations-001.sh"
    phase: "security"
    required: true
    release_only: false

  - id: "GATE-PKG-002"
    description: "Package sanity check"
    script: "scripts/gates/gate-pkg-002.sh"
    phase: "security"
    required: true
    release_only: false

  - id: "GATE-TEST-001"
    description: "Test suite sanity gate"
    script: "scripts/gates/gate-test-001.sh"
    phase: "security"
    required: true
    release_only: false

  - id: "GATE-INSTALL-001"
    description: "Install verification"
    script: "scripts/gates/gate-install-001.sh"
    phase: "release"
    required: true
    release_only: true

  - id: "GATE-FRESH-001"
    description: "Fresh install database validation"
    script: "scripts/gates/gate-fresh-001.sh"
    phase: "release"
    required: true
    release_only: true

  - id: "GATE-FRESH-002"
    description: "Fresh install filesystem validation"
    script: "scripts/gates/gate-fresh-002.sh"
    phase: "release"
    required: true
    release_only: true

  - id: "GATE-UPGRADE-001"
    description: "Upgrade path validation"
    script: "scripts/gates/gate-upgrade-001.sh"
    phase: "release"
    required: true
    release_only: true

  - id: "GATE-ROLLBACK-001"
    description: "Rollback safety gate"
    script: "scripts/gates/gate-rollback-001.sh"
    phase: "release"
    required: true
    release_only: true

  - id: "GATE-RELEASE-001"
    description: "Release coordination check"
    script: "scripts/gates/gate-release-001.sh"
    phase: "release"
    required: true
    release_only: true
