---
const {
  href,
  tone = 'light',
  class: className = '',
} = Astro.props;

const isExternal = typeof href === 'string' && /^https?:\/\//.test(href);

const toneClass =
  tone === 'dark'
    ? 'theme-dark bg-charcoal/70 text-text-secondary'
    : 'bg-surface text-text-secondary';

const hoverClass = href ? 'hover:border-mint/30 hover:text-text-primary transition-colors' : '';
const Tag = href ? 'a' : 'span';
---

<Tag
  href={href}
  target={isExternal ? '_blank' : undefined}
  rel={isExternal ? 'noopener' : undefined}
  class={`inline-flex items-center px-3 py-2 rounded-full border border-line/10 text-xs uppercase tracking-[0.2em] ${toneClass} ${hoverClass} ${className}`.trim()}
>
  <slot />
</Tag>
