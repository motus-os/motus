---
import Layout from '../../layouts/Layout.astro';
import Section from '../../components/Section.astro';
import SectionHeader from '../../components/SectionHeader.astro';
import Panel from '../../components/Panel.astro';

const base = import.meta.env.BASE_URL.endsWith('/')
  ? import.meta.env.BASE_URL
  : `${import.meta.env.BASE_URL}/`;

const docs = [
  {
    title: 'Evidence Registry',
    description: 'Current claims and the proof artifacts behind them.',
    href: `${base}docs/evidence`,
  },
  {
    title: 'Demos',
    description: 'Truth-first CLI walkthroughs showing what ships today.',
    href: `${base}docs/demos`,
  },
  {
    title: 'Ecosystem Map',
    description: 'The full system view with current, building, and future layers.',
    href: `${base}docs/ecosystem`,
  },
  {
    title: 'Evidence Gates',
    description: 'What must be true before work is released.',
    href: `${base}docs/gates`,
  },
  {
    title: 'Release Discipline',
    description: 'How each release creates its own roadmap, gates, and proof trail.',
    href: `${base}docs/release-discipline`,
  },
  {
    title: 'Kernel Schema',
    description: 'Authoritative tables and invariants for the work ledger.',
    href: `${base}docs/schema`,
  },
  {
    title: 'Strategies',
    description: 'Implementation patterns and operational playbooks.',
    href: `${base}docs/strategies`,
  },
  {
    title: 'Source Available',
    description: 'License, trademarks, and how Motus is governed.',
    href: `${base}open-source`,
  },
];
---

<Layout title="Docs - Motus">
  <Section tone="dark" class="text-center" innerClass="max-w-3xl">
    <SectionHeader
      eyebrow="Docs"
      title="Reference material and proof"
      subtitle="Deep technical detail, evidence, and implementation patterns. Start here after you trust the core flow."
      as="h1"
      size="xl"
    />
  </Section>

  <Section tone="light" pad="tight" class="border-t border-line/30">
    <Panel size="sm" class="mb-phi-3 flex flex-col md:flex-row md:items-center md:justify-between gap-phi-2">
      <div class="space-y-phi-1">
        <p class="text-xs uppercase tracking-[0.25em] text-text-secondary">Canonical source</p>
        <p class="text-sm text-text-secondary">
          These pages are curated summaries. Full technical docs live in GitHub.
        </p>
      </div>
      <a
        href="https://github.com/motus-os/motus/tree/main/packages/cli/docs"
        class="text-mint hover:text-text-primary transition-colors text-sm"
        target="_blank"
        rel="noopener"
      >
        Open docs in GitHub &#8594;
      </a>
    </Panel>
    <div class="grid md:grid-cols-2 gap-phi-3">
      {docs.map((item) => (
        <Panel size="sm" class="space-y-phi-2">
          <h2 class="text-xl font-display text-text-primary">{item.title}</h2>
          <p class="text-sm text-text-secondary">{item.description}</p>
          <a href={item.href} class="text-sm text-mint hover:text-text-primary transition-colors">
            Open {item.title} &#8594;
          </a>
        </Panel>
      ))}
    </div>
  </Section>
</Layout>
