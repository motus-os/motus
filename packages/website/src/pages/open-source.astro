---
import Layout from '../layouts/Layout.astro';
import Section from '../components/Section.astro';
import Panel from '../components/Panel.astro';
import SectionHeader from '../components/SectionHeader.astro';

const base = import.meta.env.BASE_URL.endsWith('/')
  ? import.meta.env.BASE_URL
  : `${import.meta.env.BASE_URL}/`;

const openItems = [
  {
    item: 'Work Compiler spec',
    description: 'The execution framework for verifiable work.',
    docs_url: `${base}implementation#kernel`,
  },
  {
    item: 'Coordination API',
    description: 'The 6-call API that keeps coordination overhead low.',
    docs_url: `${base}how-it-works`,
  },
  {
    item: 'CLI and execution engine',
    description: 'The full Motus command-line tool.',
    docs_url: `${base}get-started`,
  },
  {
    item: 'Policy gates',
    description: 'Deterministic enforcement + evidence requirements.',
    docs_url: `${base}implementation`,
  },
  {
    item: 'Evidence bundles',
    description: 'Manifested proof artifacts with hashes + signatures.',
    docs_url: `${base}docs/evidence`,
  },
  {
    item: 'Module registry',
    description: 'Current, building, and future scoped in one registry to prevent drift.',
    docs_url: `${base}implementation#module-registry`,
  },
];

const paidItems = [
  { item: 'Hosted infrastructure', description: 'Cloud-hosted coordination plane' },
  { item: 'Team synchronization', description: 'Cross-team agent coordination' },
  { item: 'Enterprise compliance', description: 'SOC2, HIPAA, audit integrations' },
  { item: 'SLA and support', description: 'Guaranteed uptime, priority support' },
];
---

<Layout title="Source Available - Motus">
  <Section tone="dark" class="text-center" innerClass="max-w-3xl">
    <SectionHeader
      title="Source Available"
      subtitle="Transparency that proves what happened."
      as="h1"
      size="xl"
    />
  </Section>

  <Section tone="light" pad="tight" class="border-t border-line/30" innerClass="max-w-4xl">
    <Panel size="lg">
      <h2 class="text-2xl font-display text-text-primary mb-phi-3">The Philosophy</h2>
      <div class="space-y-phi-2 text-text-secondary leading-relaxed">
        <p>
          Motus keeps the execution model transparent so teams can verify how work is governed and stay aligned.
        </p>
        <p>
          Motus is source-available under the Motus Community Source License (MCSL).
          You may self-host, use internally, and modify the software under its terms.
        </p>
        <p>
          See the
          <a href={`${base}license`} class="text-mint hover:text-text-primary transition-colors">
            License
          </a>
          and
          <a href={`${base}trademarks`} class="text-mint hover:text-text-primary transition-colors">
            Trademarks
          </a>
          for details.
        </p>
        <p class="text-text-primary font-medium">
          The infrastructure has a cost. The idea does not.
        </p>
        <p class="text-text-secondary text-sm flex flex-wrap items-center gap-phi-1">
          <span class="status-badge status-future">Future</span>
          <span>Impact: proofs and policies are inspectable, so teams can move without guessing.</span>
        </p>
      </div>
    </Panel>
  </Section>

  <Section tone="muted" pad="tight" innerClass="max-w-5xl">
    <SectionHeader
      title="What is Source-Available vs Paid"
      class="mb-phi-4"
    />

    <div class="grid md:grid-cols-2 gap-phi-3">
      <div>
        <h3 class="text-xl font-display text-mint mb-phi-3 flex items-center gap-phi-1">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
          </svg>
          Source Available (Community)
        </h3>
        <div class="space-y-phi-2">
          {openItems.map((item) => (
            <Panel size="sm" class="space-y-phi-1">
              <p class="text-text-primary font-medium">{item.item}</p>
              <p class="text-text-secondary text-sm">{item.description}</p>
              {item.docs_url ? (
                <a
                  href={item.docs_url}
                  target="_blank"
                  rel="noopener"
                  class="text-sm uppercase tracking-[0.2em] text-mint hover:text-text-primary transition-colors"
                >
                  Docs &#8594;
                </a>
              ) : null}
            </Panel>
          ))}
        </div>
      </div>

      <div>
        <h3 class="text-xl font-display text-text-secondary mb-phi-3 flex items-center gap-phi-1">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
          </svg>
          Paid Services (Coming Soon)
        </h3>
        <div class="space-y-phi-2">
          {paidItems.map((item) => (
            <Panel tone="dark" size="sm">
              <p class="text-text-primary font-medium">{item.item}</p>
              <p class="text-text-secondary text-sm">{item.description}</p>
            </Panel>
          ))}
        </div>
      </div>
    </div>
  </Section>

  <Section tone="light" pad="tight" innerClass="max-w-4xl">
    <SectionHeader
      title="Your Data, Your Control"
      class="mb-phi-4"
    />

    <div class="grid md:grid-cols-3 gap-phi-3">
      <Panel size="sm" class="text-center">
        <div class="w-12 h-12 rounded-full bg-mint/10 flex items-center justify-center mx-auto mb-phi-2">
          <svg class="w-6 h-6 text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
          </svg>
        </div>
        <h3 class="text-lg font-display text-text-primary mb-phi-1">Local by Default</h3>
        <p class="text-text-secondary text-sm">
          All data stays on your machine. No cloud required.
        </p>
      </Panel>

      <Panel size="sm" class="text-center">
        <div class="w-12 h-12 rounded-full bg-mint/10 flex items-center justify-center mx-auto mb-phi-2">
          <svg class="w-6 h-6 text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path>
          </svg>
        </div>
        <h3 class="text-lg font-display text-text-primary mb-phi-1">Your Receipts Are Yours</h3>
        <p class="text-text-secondary text-sm">
          Work receipts belong to you, not us. Export anytime.
        </p>
      </Panel>

      <Panel size="sm" class="text-center">
        <div class="w-12 h-12 rounded-full bg-mint/10 flex items-center justify-center mx-auto mb-phi-2">
          <svg class="w-6 h-6 text-mint" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
          </svg>
        </div>
        <h3 class="text-lg font-display text-text-primary mb-phi-1">Audit Every Line</h3>
        <p class="text-text-secondary text-sm">
          Full source available. Verify what it does.
        </p>
      </Panel>
    </div>
  </Section>

  <Section tone="muted" pad="tight" innerClass="max-w-4xl text-center">
    <SectionHeader title="Contribute" class="mb-phi-3" />
    <p class="text-lg text-text-secondary mb-phi-4">
      Contributions are welcomeâ€”bug fixes, documentation, and strategy improvements.
      Request access if you want to strengthen receipts-first workflows.
    </p>
    <a
      href="mailto:licensing@motusos.ai"
      class="inline-flex items-center gap-2 bg-mint text-charcoal font-semibold px-phi-3 py-phi-2 rounded-full hover:bg-white transition-colors"
    >
      <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
      </svg>
      Request source access
    </a>
  </Section>

  <Section tone="light" class="text-center" innerClass="max-w-2xl">
    <SectionHeader title="Get Started" size="md" class="mb-phi-3" />
    <div class="inline-block bg-surface/70 px-phi-3 py-phi-2 rounded-full border border-mint/20">
      <span class="text-text-secondary text-lg">Status </span>
      <span class="text-mint font-semibold text-lg">Building</span>
    </div>
  </Section>
</Layout>
